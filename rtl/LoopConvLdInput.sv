// Generated by CIRCT firtool-1.61.0
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_MEM_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_MEM_INIT
`endif // not def RANDOMIZE
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

// Standard header to adapt well known macros for prints and assertions.

// Users can define 'PRINTF_COND' to add an extra gate to prints.
`ifndef PRINTF_COND_
  `ifdef PRINTF_COND
    `define PRINTF_COND_ (`PRINTF_COND)
  `else  // PRINTF_COND
    `define PRINTF_COND_ 1
  `endif // PRINTF_COND
`endif // not def PRINTF_COND_

// Users can define 'ASSERT_VERBOSE_COND' to add an extra gate to assert error printing.
`ifndef ASSERT_VERBOSE_COND_
  `ifdef ASSERT_VERBOSE_COND
    `define ASSERT_VERBOSE_COND_ (`ASSERT_VERBOSE_COND)
  `else  // ASSERT_VERBOSE_COND
    `define ASSERT_VERBOSE_COND_ 1
  `endif // ASSERT_VERBOSE_COND
`endif // not def ASSERT_VERBOSE_COND_

// Users can define 'STOP_COND' to add an extra gate to stop conditions.
`ifndef STOP_COND_
  `ifdef STOP_COND
    `define STOP_COND_ (`STOP_COND)
  `else  // STOP_COND
    `define STOP_COND_ 1
  `endif // STOP_COND
`endif // not def STOP_COND_

module LoopConvLdInput(
  input         clock,
                reset,
  output        io_req_ready,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  input         io_req_valid,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  input  [15:0] io_req_bits_outer_bounds_batch_size,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_outer_bounds_in_row_dim,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_outer_bounds_in_col_dim,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_outer_bounds_in_stride,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_inner_bounds_batches,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_inner_bounds_lpad,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_inner_bounds_rpad,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_inner_bounds_upad,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_inner_bounds_dpad,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_derived_params_irows,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_derived_params_icols,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_derived_params_irows_unpadded,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_derived_params_icols_unpadded,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_derived_params_ichs,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_derived_params_input_spad_stride,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  input  [12:0] io_req_bits_addr_start,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  input  [33:0] io_req_bits_dram_addr,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  input         io_req_bits_downsample,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  input  [15:0] io_req_bits_max_pixels_per_row,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  input         io_req_bits_input_dilated,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_trans_input_3120,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_req_bits_loop_id,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_cmd_ready,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  output        io_cmd_valid,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  output [6:0]  io_cmd_bits_inst_funct,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  output [63:0] io_cmd_bits_rs1,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_cmd_bits_rs2,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  output        io_idle,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  input         io_rob_overloaded,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
                io_wait_for_prev_loop,	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
  output        io_loop_id	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:241:14]
);

  wire        _command_p_io_in_ready;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
  wire        _command_p_io_out_valid;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
  wire [6:0]  _command_p_io_out_bits_cmd_inst_funct;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
  wire [63:0] _command_p_io_out_bits_cmd_rs1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
  wire [63:0] _command_p_io_out_bits_cmd_rs2;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
  wire [67:0] _command_p_io_out_bits_dram_addr;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
  wire [50:0] _command_p_io_out_bits_spad_addr;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
  wire [19:0] _command_p_io_out_bits_I;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
  wire [17:0] _command_p_io_out_bits_K;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
  wire        _command_p_io_busy;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
  reg  [1:0]  state;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22]
  reg  [15:0] req_outer_bounds_batch_size;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_outer_bounds_in_row_dim;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_outer_bounds_in_col_dim;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_outer_bounds_in_stride;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_inner_bounds_batches;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_inner_bounds_lpad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_inner_bounds_rpad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_inner_bounds_upad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_inner_bounds_dpad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_derived_params_irows;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_derived_params_icols;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_derived_params_irows_unpadded;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_derived_params_icols_unpadded;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_derived_params_ichs;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_derived_params_input_spad_stride;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [12:0] req_addr_start;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [33:0] req_dram_addr;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg         req_downsample;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg  [15:0] req_max_pixels_per_row;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg         req_input_dilated;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg         req_trans_input_3120;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  reg         req_loop_id;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
  wire [15:0] _GEN = req_trans_input_3120 ? (req_inner_bounds_batches < 16'h40 ? req_inner_bounds_batches : 16'h40) : req_derived_params_ichs < 16'h40 ? req_derived_params_ichs : 16'h40;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :266:{30,36}, :267:{33,42}, :268:29]
  reg  [15:0] b;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:271:14]
  reg  [15:0] irow;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:272:17]
  reg  [15:0] icol;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:273:17]
  reg  [15:0] ich;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:274:16]
  wire [16:0] _GEN_0 = {16'h0, req_input_dilated};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :263:37, :395:7]
  wire [16:0] _state_T_1 = {1'h0, req_inner_bounds_upad} + _GEN_0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :258:16, :263:37]
  wire [18:0] _GEN_1 = {{3{irow[15]}}, irow};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:272:17, :277:26]
  wire [16:0] _state_T_7 = {1'h0, req_inner_bounds_lpad} + _GEN_0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :258:16, :263:37]
  wire [16:0] _GEN_2 = {irow[15], irow};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:272:17, :277:26, :279:37]
  wire        _I_T_6 = $signed(icol) < 16'sh0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:273:17, :279:68, :395:7]
  wire [16:0] _GEN_3 = {1'h0, req_derived_params_icols_unpadded};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :258:16, :279:100]
  wire [16:0] _GEN_4 = {icol[15], icol};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:273:17, :278:26, :279:82]
  wire [15:0] _GEN_5 = {16{ich[15]}};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:274:16, :284:54]
  wire [31:0] _GEN_6 = {_GEN_5, ich};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:274:16, :284:54]
  wire [31:0] _GEN_7 = {16'h0, req_outer_bounds_in_col_dim};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :284:54, :395:7]
  wire [31:0] _GEN_8 = {16'h0, req_outer_bounds_in_row_dim};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :284:67, :395:7]
  wire [31:0] _GEN_9 = {{16{irow[15]}}, irow};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:272:17, :277:26, :284:87]
  wire [31:0] _GEN_10 = {{16{icol[15]}}, icol};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:273:17, :278:26, :284:99]
  wire [15:0] _GEN_11 = {16{b[15]}};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:271:14, :284:118]
  wire [31:0] _GEN_12 = {_GEN_11, b};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:271:14, :284:118]
  wire [28:0] _GEN_13 = {13'h0, req_derived_params_input_spad_stride};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :289:54]
  wire [28:0] _spad_addr_T_3 = {_GEN_11, b[15:3]} * _GEN_13;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:271:14, :284:118, :289:{31,54}]
  wire [29:0] _GEN_14 = {17'h0, req_addr_start};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :279:23, :289:25, :298:31]
  wire [29:0] _spad_addr_T_6 = _GEN_14 + {_spad_addr_T_3[28], _spad_addr_T_3};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:289:{25,54}]
  wire [15:0] _GEN_15 = {15'h0, req_downsample};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :289:90]
  wire [31:0] _GEN_16 = {16'h0, req_derived_params_irows >> _GEN_15};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :289:{81,90}, :395:7]
  wire [31:0] _spad_addr_T_9 = _GEN_6 * _GEN_16;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:284:54, :289:81]
  wire [15:0] _spad_addr_T_46 = req_derived_params_icols >> _GEN_15;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :289:{90,118}]
  wire [47:0] _GEN_17 = {32'h0, _spad_addr_T_46};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:284:67, :289:{109,118}]
  wire [47:0] _spad_addr_T_14 = {{16{_spad_addr_T_9[31]}}, _spad_addr_T_9} * _GEN_17;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:289:{81,109}]
  wire [48:0] _spad_addr_T_17 = {{19{_spad_addr_T_6[29]}}, _spad_addr_T_6} + {_spad_addr_T_14[47], _spad_addr_T_14};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:289:{25,74,109}]
  wire [18:0] _GEN_18 = {18'h0, req_downsample};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :289:153, src/main/scala/chisel3/util/Mux.scala:141:16]
  wire [18:0] _spad_addr_T_45 = $signed($signed(_GEN_1 + {2'h0, _state_T_1 >> _GEN_0}) >>> _GEN_18);	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:263:{37,59}, :277:26, :289:153, :316:14]
  wire [34:0] _GEN_19 = {{16{_spad_addr_T_45[18]}}, _spad_addr_T_45};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:289:{153,172}]
  wire [34:0] _GEN_20 = {19'h0, _spad_addr_T_46};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:289:{118,172}, :357:35]
  wire [34:0] _spad_addr_T_21 = _GEN_19 * _GEN_20;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:289:172]
  wire [49:0] _spad_addr_T_24 = {_spad_addr_T_17[48], _spad_addr_T_17} + {{15{_spad_addr_T_21[34]}}, _spad_addr_T_21};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:289:{74,137,172}]
  wire [18:0] _spad_addr_T_52 = $signed($signed({{3{icol[15]}}, icol} + {2'h0, _state_T_7 >> _GEN_0}) >>> _GEN_18);	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:263:{37,59}, :273:17, :278:26, :289:{153,216}, :316:14]
  wire [50:0] _GEN_21 = {{32{_spad_addr_T_52[18]}}, _spad_addr_T_52};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:289:{200,216}]
  wire [28:0] _spad_addr_T_30 = {_GEN_5, ich[15:3]} * _GEN_13;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:274:16, :284:54, :289:54, :290:{33,56}]
  wire [29:0] _spad_addr_T_33 = _GEN_14 + {_spad_addr_T_30[28], _spad_addr_T_30};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:289:25, :290:{25,56}]
  wire [31:0] _spad_addr_T_36 = _GEN_12 * _GEN_16;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:284:118, :289:81, :290:81]
  wire [47:0] _spad_addr_T_41 = {{16{_spad_addr_T_36[31]}}, _spad_addr_T_36} * _GEN_17;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:289:109, :290:{81,109}]
  wire [48:0] _spad_addr_T_44 = {{19{_spad_addr_T_33[29]}}, _spad_addr_T_33} + {_spad_addr_T_41[47], _spad_addr_T_41};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:290:{25,76,109}]
  wire [34:0] _spad_addr_T_48 = _GEN_19 * _GEN_20;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:289:172, :290:172]
  wire [49:0] _spad_addr_T_51 = {_spad_addr_T_44[48], _spad_addr_T_44} + {{15{_spad_addr_T_48[34]}}, _spad_addr_T_48};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:290:{76,137,172}]
  wire [17:0] _GEN_22 = {2'h0, req_derived_params_icols_unpadded};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :296:29, :316:14]
  wire [17:0] _GEN_23 = {{2{icol[15]}}, icol};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:273:17, :278:26, :296:29]
  wire [17:0] _GEN_24 = {13'h0, 5'h8 << req_downsample};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :289:54, :293:46, :296:37]
  wire [17:0] _I_T_5 = $signed(_GEN_22 - _GEN_23) > $signed(_GEN_24) ? _GEN_24 : _GEN_22 - _GEN_23;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:296:{8,29,37,107}]
  wire [16:0] _I_T_9 = 17'h0 - _GEN_4;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:279:{23,82}, :298:31]
  wire [16:0] _I_T_10 = $signed(_I_T_9) > 17'sh8 ? 17'h8 : _I_T_9;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:279:23, :298:{26,31,39}]
  wire [16:0] _next_icol_T_1 = {1'h0, req_inner_bounds_rpad} + _GEN_0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :258:16, :263:37]
  wire [18:0] _GEN_25 = {3'h0, req_derived_params_icols_unpadded};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :299:64, :320:18]
  wire [18:0] _I_T_17 = _GEN_25 + {2'h0, _next_icol_T_1 >> _GEN_0};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:263:{37,59}, :299:64, :316:14]
  wire [19:0] _GEN_26 = {{4{icol[15]}}, icol};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:273:17, :278:26, :299:88]
  wire [18:0] _I_T_24 = _GEN_25 + {2'h0, _next_icol_T_1 >> _GEN_0};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:263:{37,59}, :299:{64,146}, :316:14]
  wire [19:0] I = _I_T_6 ? {{3{_I_T_10[16]}}, _I_T_10} : $signed(_GEN_4) >= $signed(_GEN_3) ? ($signed({_I_T_17[18], _I_T_17} - _GEN_26) > 20'sh8 ? 20'h8 : {_I_T_24[18], _I_T_24} - _GEN_26) : {{2{_I_T_5[17]}}, _I_T_5};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:279:{68,82,100}, :296:8, :298:26, :299:{13,43,64,88,96,146,170}, src/main/scala/chisel3/util/Mux.scala:141:16]
  wire [17:0] _GEN_27 = {2'h0, req_inner_bounds_batches};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :303:22, :316:14]
  wire [17:0] _GEN_28 = {{2{b[15]}}, b};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:271:14, :284:118, :303:22]
  wire [17:0] _GEN_29 = {2'h0, _GEN};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:268:29, :303:27, :316:14]
  wire [17:0] _GEN_30 = {2'h0, req_derived_params_ichs};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :304:19, :316:14]
  wire [17:0] _GEN_31 = {{2{ich[15]}}, ich};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:274:16, :284:54, :304:19]
  wire        _io_idle_T = state == 2'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :316:14, :338:25]
  wire        _io_req_ready_output = _io_idle_T & ~_command_p_io_busy;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25, :338:{25,34,37}]
  wire        _command_p_io_in_valid_T_4 = (|state) & ~io_wait_for_prev_loop & (|req_dram_addr);	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :258:16, :342:{34,46,69,87}]
  wire        _command_p_io_in_bits_cmd_T = state == 2'h1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :284:124, :343:41]
  wire        _GEN_32 = _command_p_io_out_bits_cmd_inst_funct == 7'h2;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25, :333:23, :352:46]
  wire [19:0] _mvin_cmd_rs2_num_rows_T = $signed($signed(_command_p_io_out_bits_I) >>> req_downsample);	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :313:25, :357:35]
  wire [18:0] _state_T_10 = 19'h0 - {2'h0, _state_T_7 >> _GEN_0};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:263:{37,59}, :279:23, :316:14, :357:35, :386:98]
  wire [16:0] _GEN_33 = {16'h0, io_req_bits_input_dilated};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:395:7, :396:52]
  wire [16:0] _irow_T_1 = {1'h0, io_req_bits_inner_bounds_upad} + _GEN_33 >> _GEN_33;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :396:{52,82}]
  wire [16:0] _icol_T_1 = {1'h0, io_req_bits_inner_bounds_lpad} + _GEN_33 >> _GEN_33;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :396:52, :397:{52,82}]
  wire [16:0] max_chs_per_mvin = {1'h0, _GEN};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :268:29]
  wire        _GEN_34 = req_dram_addr == 34'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :286:52, :364:22, :1556:17]
  wire        _GEN_35 = _command_p_io_in_ready & _command_p_io_in_valid_T_4;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25, :342:69, src/main/scala/chisel3/util/Decoupled.scala:52:35]
  wire [16:0] b_it = req_trans_input_3120 ? max_chs_per_mvin : 17'h1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :268:29, :370:21]
  wire [16:0] ich_it = req_trans_input_3120 ? 17'h1 : max_chs_per_mvin;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :268:29, :370:21, :371:23]
  wire [16:0] _next_ich_max_T = {1'h0, req_derived_params_ichs} - 17'h1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :258:16, :304:19, generators/gemmini/src/main/scala/gemmini/Util.scala:48:28]
  wire [17:0] next_ich = $signed({{3{ich[15]}}, ich} + {2'h0, ich_it}) > $signed({{2{_next_ich_max_T[16]}}, _next_ich_max_T}) ? 18'h0 : _GEN_31 + {1'h0, ich_it};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :274:16, :284:54, :304:19, :316:14, :371:23, generators/gemmini/src/main/scala/gemmini/Util.scala:48:28, :50:15, :52:{11,22}, src/main/scala/chisel3/util/Mux.scala:141:16]
  wire [18:0] _next_icol_T_8 = 19'h0 - {2'h0, _state_T_7 >> _GEN_0};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:263:{37,59}, :279:23, :316:14, :357:35, :374:94]
  wire [18:0] _next_icol_max_T = {1'h0, _GEN_22 + {1'h0, _next_icol_T_1 >> _GEN_0}} - 19'h1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :263:{37,59}, :296:29, :374:65, generators/gemmini/src/main/scala/gemmini/Util.scala:48:28]
  wire [20:0] _GEN_36 = {{5{icol[15]}}, icol};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:273:17, :278:26, generators/gemmini/src/main/scala/gemmini/Util.scala:50:15]
  wire [20:0] next_icol = (|next_ich) ? _GEN_36 : $signed({{6{icol[15]}}, icol} + {2'h0, I}) > $signed({{3{_next_icol_max_T[18]}}, _next_icol_max_T}) ? {{2{_next_icol_T_8[18]}}, _next_icol_T_8} : _GEN_36 + {1'h0, I};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :273:17, :278:26, :279:23, :316:14, :374:94, :375:18, generators/gemmini/src/main/scala/gemmini/Util.scala:48:28, :50:15, :52:{11,22}, src/main/scala/chisel3/util/Mux.scala:141:16]
  wire [1:0]  _next_irow_T = 2'h1 << req_downsample;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :284:124, :376:43]
  wire [18:0] _next_irow_T_12 = 19'h0 - {2'h0, _state_T_7 >> _GEN_0};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:263:{37,59}, :279:23, :316:14, :357:35, :377:26]
  wire [15:0] _next_irow_T_17 = irow + {14'h0, _next_irow_T};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:272:17, :376:43, generators/gemmini/src/main/scala/gemmini/Util.scala:50:15]
  wire [16:0] _next_irow_T_22 = _GEN_2 + {15'h0, _next_irow_T};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:279:37, :289:90, :376:43, generators/gemmini/src/main/scala/gemmini/Util.scala:50:15, :52:11]
  wire [18:0] next_irow = next_icol == {{2{_next_irow_T_12[18]}}, _next_irow_T_12} & ~(|next_ich) ? ($signed({{2{_next_irow_T_22[16]}}, _next_irow_T_22}) > $signed({1'h0, {2'h0, req_derived_params_irows_unpadded} + {1'h0, {1'h0, req_inner_bounds_dpad} + _GEN_0 >> _GEN_0}} - 19'h1) ? 19'h0 - {2'h0, _state_T_1 >> _GEN_0} : {{3{_next_irow_T_17[15]}}, _next_irow_T_17}) : _GEN_1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :258:16, :263:{37,59}, :277:26, :279:23, :316:14, :357:35, :375:18, :376:{78,107}, :377:{19,26,49}, generators/gemmini/src/main/scala/gemmini/Util.scala:48:28, :50:15, :52:{11,22}, src/main/scala/chisel3/util/Mux.scala:141:16]
  wire [18:0] _next_b_T_9 = 19'h0 - {2'h0, _state_T_7 >> _GEN_0};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:263:{37,59}, :279:23, :316:14, :357:35, :379:69]
  wire [16:0] _next_b_max_T = {1'h0, req_inner_bounds_batches} - 17'h1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :258:16, :303:22, generators/gemmini/src/main/scala/gemmini/Util.scala:48:28]
  wire [17:0] next_b = next_irow == 19'h0 - {2'h0, _state_T_1 >> _GEN_0} & next_icol == {{2{_next_b_T_9[18]}}, _next_b_T_9} & ~(|next_ich) ? ($signed({{3{b[15]}}, b} + {2'h0, b_it}) > $signed({{2{_next_b_max_T[16]}}, _next_b_max_T}) ? 18'h0 : _GEN_28 + {1'h0, b_it}) : _GEN_28;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :263:{37,59}, :271:14, :279:23, :284:118, :303:22, :316:14, :357:35, :370:21, :375:18, :379:{19,26,62,69,92}, generators/gemmini/src/main/scala/gemmini/Util.scala:48:28, :50:15, :52:{11,22}, src/main/scala/chisel3/util/Mux.scala:141:16]
  wire        _GEN_37 = _io_req_ready_output & io_req_valid;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:338:34, src/main/scala/chisel3/util/Decoupled.scala:52:35]
  always @(posedge clock) begin
    if (reset)
      state <= 2'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :316:14]
    else if (_GEN_37)	// @[src/main/scala/chisel3/util/Decoupled.scala:52:35]
      state <= 2'h1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :284:124]
    else if (_GEN_34)	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:364:22]
      state <= 2'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :316:14]
    else if (_GEN_35) begin	// @[src/main/scala/chisel3/util/Decoupled.scala:52:35]
      if (_command_p_io_in_bits_cmd_T)	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:343:41]
        state <= 2'h2;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :333:23]
      else	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:343:41]
        state <= {~(next_b == 18'h0 & next_irow == 19'h0 - {2'h0, _state_T_1 >> _GEN_0} & next_icol == {{2{_state_T_10[18]}}, _state_T_10} & ~(|next_ich)), 1'h0};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :263:{37,59}, :279:23, :316:14, :357:35, :375:18, :386:{19,27,48,55,91,98,121}, src/main/scala/chisel3/util/Mux.scala:141:16]
    end
    if (_GEN_37) begin	// @[src/main/scala/chisel3/util/Decoupled.scala:52:35]
      req_outer_bounds_batch_size <= io_req_bits_outer_bounds_batch_size;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_outer_bounds_in_row_dim <= io_req_bits_outer_bounds_in_row_dim;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_outer_bounds_in_col_dim <= io_req_bits_outer_bounds_in_col_dim;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_outer_bounds_in_stride <= io_req_bits_outer_bounds_in_stride;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_inner_bounds_batches <= io_req_bits_inner_bounds_batches;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_inner_bounds_lpad <= io_req_bits_inner_bounds_lpad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_inner_bounds_rpad <= io_req_bits_inner_bounds_rpad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_inner_bounds_upad <= io_req_bits_inner_bounds_upad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_inner_bounds_dpad <= io_req_bits_inner_bounds_dpad;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_derived_params_irows <= io_req_bits_derived_params_irows;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_derived_params_icols <= io_req_bits_derived_params_icols;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_derived_params_irows_unpadded <= io_req_bits_derived_params_irows_unpadded;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_derived_params_icols_unpadded <= io_req_bits_derived_params_icols_unpadded;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_derived_params_ichs <= io_req_bits_derived_params_ichs;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_derived_params_input_spad_stride <= io_req_bits_derived_params_input_spad_stride;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_addr_start <= io_req_bits_addr_start;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_dram_addr <= io_req_bits_dram_addr;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_downsample <= io_req_bits_downsample;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_max_pixels_per_row <= io_req_bits_max_pixels_per_row;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_input_dilated <= io_req_bits_input_dilated;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_trans_input_3120 <= io_req_bits_trans_input_3120;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      req_loop_id <= io_req_bits_loop_id;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
      b <= 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:271:14, :395:7]
      irow <= 16'h0 - _irow_T_1[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:272:17, :279:23, :395:7, :396:{17,82}]
      icol <= 16'h0 - _icol_T_1[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:273:17, :279:23, :395:7, :397:{17,82}]
      ich <= 16'h0;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:274:16, :395:7]
    end
    else if (_GEN_34 | ~_GEN_35 | _command_p_io_in_bits_cmd_T) begin	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:274:16, :343:41, :364:{22,30}, :366:36, :367:29, src/main/scala/chisel3/util/Decoupled.scala:52:35]
    end
    else begin	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:274:16, :364:30, :366:36]
      b <= next_b[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:271:14, :384:9, src/main/scala/chisel3/util/Mux.scala:141:16]
      irow <= next_irow[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:272:17, :383:12, src/main/scala/chisel3/util/Mux.scala:141:16]
      icol <= next_icol[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:273:17, :382:12, src/main/scala/chisel3/util/Mux.scala:141:16]
      ich <= next_ich[15:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:274:16, :381:11, src/main/scala/chisel3/util/Mux.scala:141:16]
    end
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_
    `ifdef FIRRTL_BEFORE_INITIAL
      `FIRRTL_BEFORE_INITIAL
    `endif // FIRRTL_BEFORE_INITIAL
    logic [31:0] _RANDOM[0:27];
    initial begin
      `ifdef INIT_RANDOM_PROLOG_
        `INIT_RANDOM_PROLOG_
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT
        for (logic [4:0] i = 5'h0; i < 5'h1C; i += 5'h1) begin
          _RANDOM[i] = `RANDOM;
        end
        state = _RANDOM[5'h0][1:0];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22]
        req_outer_bounds_batch_size = _RANDOM[5'h0][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :258:16]
        req_outer_bounds_in_row_dim = {_RANDOM[5'h0][31:18], _RANDOM[5'h1][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :258:16]
        req_outer_bounds_in_col_dim = _RANDOM[5'h1][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_outer_bounds_in_stride = _RANDOM[5'h4][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_inner_bounds_batches = {_RANDOM[5'h9][31:18], _RANDOM[5'hA][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_inner_bounds_lpad = _RANDOM[5'hD][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_inner_bounds_rpad = {_RANDOM[5'hD][31:18], _RANDOM[5'hE][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_inner_bounds_upad = _RANDOM[5'hE][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_inner_bounds_dpad = {_RANDOM[5'hE][31:18], _RANDOM[5'hF][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_derived_params_irows = {_RANDOM[5'h12][31:18], _RANDOM[5'h13][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_derived_params_icols = _RANDOM[5'h13][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_derived_params_irows_unpadded = {_RANDOM[5'h13][31:18], _RANDOM[5'h14][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_derived_params_icols_unpadded = _RANDOM[5'h14][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_derived_params_ichs = {_RANDOM[5'h14][31:18], _RANDOM[5'h15][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_derived_params_input_spad_stride = {_RANDOM[5'h16][31:18], _RANDOM[5'h17][1:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_addr_start = _RANDOM[5'h17][30:18];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_dram_addr = {_RANDOM[5'h17][31], _RANDOM[5'h18], _RANDOM[5'h19][0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_downsample = _RANDOM[5'h19][1];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_max_pixels_per_row = _RANDOM[5'h19][17:2];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_input_dilated = _RANDOM[5'h19][18];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_trans_input_3120 = _RANDOM[5'h19][19];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        req_loop_id = _RANDOM[5'h19][20];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
        b = {_RANDOM[5'h19][31:21], _RANDOM[5'h1A][4:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :271:14]
        irow = _RANDOM[5'h1A][20:5];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:271:14, :272:17]
        icol = {_RANDOM[5'h1A][31:21], _RANDOM[5'h1B][4:0]};	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:271:14, :273:17]
        ich = _RANDOM[5'h1B][20:5];	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:273:17, :274:16]
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL
      `FIRRTL_AFTER_INITIAL
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  Pipeline_11 command_p (	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
    .clock                      (clock),
    .reset                      (reset),
    .io_in_ready                (_command_p_io_in_ready),
    .io_in_valid                (_command_p_io_in_valid_T_4),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:342:69]
    .io_in_bits_cmd_inst_funct  ({5'h0, ~_command_p_io_in_bits_cmd_T, 1'h0}),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :343:{34,41}]
    .io_in_bits_cmd_rs1         (_command_p_io_in_bits_cmd_T ? {35'h1FC000000, req_derived_params_input_spad_stride[12:0], 4'h0, req_max_pixels_per_row[3:0], 8'h1} : 64'h0),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :320:18, :322:25, :323:32, :327:36, :334:16, :343:{34,41}]
    .io_in_bits_cmd_rs2         (_command_p_io_in_bits_cmd_T ? {46'h0, {2'h0, req_trans_input_3120 ? req_outer_bounds_batch_size : req_outer_bounds_in_stride} << req_downsample} : 64'h0),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :281:24, :316:14, :329:{18,33}, :334:16, :343:{34,41}]
    .io_in_bits_dram_addr       ($signed(irow) < 16'sh0 | $signed(_GEN_2) >= $signed({1'h0, req_derived_params_irows_unpadded}) | _I_T_6 | $signed(_GEN_4) >= $signed(_GEN_3) ? 68'h0 : {33'h0, {3'h0, req_trans_input_3120 ? (_GEN_6 * _GEN_7 * _GEN_8 + _GEN_9 * _GEN_7 + _GEN_10) * {16'h0, req_inner_bounds_batches} + _GEN_12 : (_GEN_12 * _GEN_8 * _GEN_7 + _GEN_9 * _GEN_7 + _GEN_10) * {16'h0, req_outer_bounds_in_stride} + _GEN_6} + {1'h0, req_dram_addr}}),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:256:22, :258:16, :272:17, :279:{23,37,55,68,74,82,100}, :284:{24,54,67,87,99,108,118}, :285:{23,43,55,64,76}, :286:{22,52}, :320:18, :395:7, :1556:17]
    .io_in_bits_spad_addr       (req_trans_input_3120 ? {_spad_addr_T_24[49], _spad_addr_T_24} + _GEN_21 : {_spad_addr_T_51[49], _spad_addr_T_51} + _GEN_21),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :287:22, :289:{137,200}, :290:{137,200}]
    .io_in_bits_I               (I),	// @[src/main/scala/chisel3/util/Mux.scala:141:16]
    .io_in_bits_K               (req_trans_input_3120 ? ($signed(_GEN_27 - _GEN_28) > $signed(_GEN_29) ? _GEN_29 : _GEN_27 - _GEN_28) : $signed(_GEN_30 - _GEN_31) > $signed(_GEN_29) ? _GEN_29 : _GEN_30 - _GEN_31),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16, :302:14, :303:{8,22,27,78}, :304:{8,19,26,74}]
    .io_out_ready               (io_cmd_ready & ~io_rob_overloaded),	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:349:{42,45}]
    .io_out_valid               (_command_p_io_out_valid),
    .io_out_bits_cmd_inst_funct (_command_p_io_out_bits_cmd_inst_funct),
    .io_out_bits_cmd_rs1        (_command_p_io_out_bits_cmd_rs1),
    .io_out_bits_cmd_rs2        (_command_p_io_out_bits_cmd_rs2),
    .io_out_bits_dram_addr      (_command_p_io_out_bits_dram_addr),
    .io_out_bits_spad_addr      (_command_p_io_out_bits_spad_addr),
    .io_out_bits_I              (_command_p_io_out_bits_I),
    .io_out_bits_K              (_command_p_io_out_bits_K),
    .io_busy                    (_command_p_io_busy)
  );
  assign io_req_ready = _io_req_ready_output;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:338:34]
  assign io_cmd_valid = _command_p_io_out_valid & ~io_rob_overloaded;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25, :349:45, :350:42]
  assign io_cmd_bits_inst_funct = _command_p_io_out_bits_cmd_inst_funct;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25]
  assign io_cmd_bits_rs1 = _GEN_32 ? _command_p_io_out_bits_dram_addr[63:0] : _command_p_io_out_bits_cmd_rs1;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25, :351:15, :352:{46,60}, :354:21]
  assign io_cmd_bits_rs2 = _GEN_32 ? {12'h0, _mvin_cmd_rs2_num_rows_T[3:0], 9'h0, _command_p_io_out_bits_K[6:0], 3'h0, _command_p_io_out_bits_spad_addr[28:26], 12'h0, _command_p_io_out_bits_spad_addr[13:0]} : _command_p_io_out_bits_cmd_rs2;	// @[generators/gemmini/src/main/scala/gemmini/LocalAddr.scala:108:37, generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25, :320:18, :351:15, :352:{46,60}, :356:18, :357:{27,35,54}, :358:{27,34}, :360:{21,37}]
  assign io_idle = _io_idle_T & ~_command_p_io_busy;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:313:25, :338:{25,37}, :339:29]
  assign io_loop_id = req_loop_id;	// @[generators/gemmini/src/main/scala/gemmini/LoopConv.scala:258:16]
endmodule

